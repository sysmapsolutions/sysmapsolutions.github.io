YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"patched-v3.11.0",{requires:["yui-base"]});YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start=["touchstart","mousedown"],o.end=["touchend","mouseup"],o.move=["touchmove","mousemove"],o.cancel=["touchcancel","mousecancel"]):s&&s.PointerEvent?(o.start="pointerdown",o.end="pointerup",o.move="pointermove",o.cancel="pointercancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"patched-v3.11.0",{requires:["node-base"]});AUI.add("liferay-dockbar",function(p){var r=p.Object;var g=p.Lang;var h=Liferay.Util;var s=p.getBody();var l="lfr-has-add-content";var o="lfr-has-edit-layout";var u="dockbar-item";var f="lfr-has-device-preview";var b=".nav-account-controls";var d=".nav-add-controls";var e="addPanel";var t="editLayoutPanel";var k="previewPanel";var c='<div class="lfr-add-panel lfr-admin-panel" id="{0}" />';var n='<div class="lfr-admin-panel lfr-edit-layout-panel" id="{0}" />';var j='<div class="lfr-admin-panel lfr-device-preview-panel" id="{0}" />';var m='<div class="loading-animation" />';var a={init:function(w){var v=this;var y=p.one(w);if(y){v.dockBar=y;v._namespace=y.attr("data-namespace");Liferay.once("initDockbar",v._init,v);var x=y.on(["focus","mousemove","touchstart"],function(A){var B=A.target;var z=A.type;Liferay.fire("initDockbar");x.detach();if(themeDisplay.isSignedIn()&&!p.UA.touch){v._initInteraction(B,z)}});s.addClass("dockbar-ready");Liferay.on(["noticeHide","noticeShow"],v._toggleControlsOffset,v)}},getPanelNode:function(y){var v=this;var x=null;var w=i[y];if(w){x=w.node;if(!x){var z=v._namespace;var A=z+y+"Sidebar";x=p.one("#"+A);if(!x){x=p.Node.create(g.sub(w.tpl,[z]));x.plug(p.Plugin.ParseContent);s.prepend(x);x.set("id",A);w.node=x}}}return x},togglePreviewPanel:function(){var v=this;a._togglePanel(k)},toggleAddPanel:function(){var v=this;a._togglePanel(e)},toggleEditLayoutPanel:function(){var v=this;a._togglePanel(t)},_registerPanels:function(){var v=this;var w=v._namespace;r.each(i,function(A,x,B){var y=A.id;var z=p.one("#"+w+y);if(z){z.on("click",function(C){C.halt();v._togglePanel(y)})}})},_setLoadingAnimation:function(w){var v=this;v.getPanelNode(w).html(m)},_toggleAppShortcut:function(w,x){var v=this;w.toggleClass("lfr-portlet-used",x);v._addContentNode.focusManager.refresh()},_toggleControlsOffset:function(y){if(!y.useAnimation){var v=this;var z=false;if(y.type==="noticeShow"){z=true}var x=v._namespace;var A=p.one("#"+x+"navAccountControls");if(A){A.toggleClass("nav-account-controls-notice",z)}var w=p.one("#"+x+"navAddControls");if(w){w.toggleClass("nav-add-controls-notice",z)}}},_togglePanel:function(z){var v=this;r.each(i,function(C,B,D){if(C.id!==z){s.removeClass(C.css);if(C.node){C.node.hide();s.detach("layoutControlsEsc|key")}}});var x=i[z];if(x){var y=x.node;if(!y){y=v.getPanelNode(x.id)}s.toggleClass(x.css);var A="dockbarHidePanel";var w=false;if(y&&s.hasClass(x.css)){x.showFn(z);A="dockbarShowPanel";w=true;s.on("layoutControlsEsc|key",function(D){if(z!==k){v._togglePanel(z)}var B=p.one("#"+v._namespace+"navAddControls");if(B){var C;if(z==e){C=B.one(".site-add-controls > a")}else{if(z==t){C=B.one(".page-edit-controls > a")}else{if(z==k){C=B.one(".page-preview-controls > a")}}}if(C){C.focus()}}},"down:27")}Liferay.fire("dockbaraddpage:previewPageTitle",{data:{hidden:true}});Liferay.fire(A,{id:z});if(!w){s.detach("layoutControlsEsc|key")}y.toggle(w)}}};Liferay.provide(a,"_init",function(){var w=this;var z=w.dockBar;var y=w._namespace;Liferay.Util.toggleControls(z);w._toolbarItems={};Liferay.fire("initLayout");Liferay.fire("initNavigation");w._registerPanels();var x=p.oneNS(y,"#navSiteNavigationNavbarBtn");var v=p.one(Liferay.Data.NAV_SELECTOR);if(x&&v){x.on("tap",function(A){v.toggleClass("open")})}Liferay.fire("dockbarLoaded")},["aui-io-request","event-tap","liferay-node","liferay-store","node-focusmanager"]);Liferay.provide(a,"_initInteraction",function(B,C){var E=this;var z=E.dockBar;var x=z.one(b);var D=z.one(d);if(x){var y=x.one(".staging-bar");if(y){y.all("> li").addClass(u)}x.all("> li > a").get("parentNode").addClass(u)}if(s.hasClass("dockbar-split")){if(x){x.plug(Liferay.DockbarKeyboardInteraction)}if(D){D.plug(p.Plugin.NodeFocusManager,{circular:true,descendants:"li a",keys:{next:"down:39,40",previous:"down:37,38"}});D.focusManager.after("focusedChange",function(G){var F=this;if(!G.newVal){F.set("activeDescendant",0)}})}}else{if(D){var w=z.one(".brand");if(w){w.all("a").get("parentNode").addClass(u)}D.all("> li").addClass(u);z.plug(Liferay.DockbarKeyboardInteraction)}}if(C==="focus"){var A=B.ancestor(b);var v=B;if(A){v=A.one("li a")}v.blur();v.focus()}},["liferay-dockbar-keyboard-interaction","node-focusmanager"]);Liferay.provide(a,"_showPanel",function(x){var v=this;v._setLoadingAnimation(x);var w=p.one("#"+v._namespace+x);if(w){var y=w.ancestor().attr("data-panelURL");p.io.request(y,{after:{success:function(B,D,C){var A=this.get("responseData");var z=v.getPanelNode(x);z.plug(p.Plugin.ParseContent);z.setContent(A)}}})}},["aui-io-request","aui-parse-content","event-outside"]);var q=p.bind("_showPanel",a);var i={addPanel:{css:l,id:e,node:null,showFn:q,tpl:c},editLayoutPanel:{css:o,id:t,node:null,showFn:q,tpl:n},previewPanel:{css:f,id:k,node:null,showFn:q,tpl:j}};Liferay.Dockbar=a;Liferay.Dockbar.ADD_PANEL=e;Liferay.Dockbar.PREVIEW_PANEL=k},"",{requires:["aui-node","aui-overlay-mask-deprecated","event-touch"]});